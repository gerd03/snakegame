<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SNAKE ARCADE</title>
    <meta name="description" content="Next-gen 3D Snake Arcade with cinematic visuals">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E%F0%9F%90%8D%3C/text%3E%3C/svg%3E">
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Background Layer -->
    <div id="game-background"></div>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="snake-loader">
            <div class="snake-segment"></div>
            <div class="snake-segment"></div>
            <div class="snake-segment"></div>
            <div class="snake-segment"></div>
            <div class="snake-segment"></div>
        </div>
        <span class="loader-text">LOADING</span>
        <div class="loading-progress">
            <div class="progress-bar"></div>
        </div>
    </div>

    <!-- Auth Screen -->
    <div id="auth-screen" class="hidden">
        <div class="auth-container">
            <h1 class="auth-title">SNAKE ARCADE</h1>

            <!-- Login Form -->
            <div id="login-form" class="auth-form">
                <h2 class="form-title">LOGIN</h2>
                <div class="input-group">
                    <label for="login-username">Username</label>
                    <input type="text" id="login-username" placeholder="Enter username" autocomplete="username">
                </div>
                <div class="input-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" placeholder="Enter password"
                        autocomplete="current-password">
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="remember-me">
                    <label for="remember-me">Remember me</label>
                </div>
                <button id="login-btn" class="auth-btn primary">LOGIN</button>
                <p class="auth-error hidden" id="login-error"></p>
                <p class="auth-switch">Don't have an account? <a href="#" id="show-register">Register</a></p>
            </div>

            <!-- Register Form -->
            <div id="register-form" class="auth-form hidden">
                <h2 class="form-title">REGISTER</h2>
                <div class="input-group">
                    <label for="reg-display">Display Name</label>
                    <input type="text" id="reg-display" placeholder="Your display name" autocomplete="name">
                </div>
                <div class="input-group">
                    <label for="reg-username">Username</label>
                    <input type="text" id="reg-username" placeholder="Choose username" autocomplete="username">
                </div>
                <div class="input-group">
                    <label for="reg-password">Password</label>
                    <input type="password" id="reg-password" placeholder="Choose password" autocomplete="new-password">
                </div>
                <button id="register-btn" class="auth-btn primary">REGISTER</button>
                <p class="auth-error hidden" id="register-error"></p>
                <p class="auth-switch">Already have an account? <a href="#" id="show-login">Login</a></p>
            </div>
        </div>
    </div>

    <!-- Main Menu -->
    <div id="main-menu" class="hidden">
        <div class="menu-container">
            <h1 class="game-title">
                <span class="title-snake">SNAKE</span>
                <span class="title-arcade">ARCADE</span>
            </h1>
            <p class="subtitle">CLASSIC EDITION</p>

            <div class="menu-options">
                <div class="ai-selector">
                    <label>DIFFICULTY</label>
                    <div class="difficulty-buttons">
                        <button class="diff-btn" data-level="easy">EASY</button>
                        <button class="diff-btn active" data-level="normal">NORMAL</button>
                        <button class="diff-btn" data-level="hard">HARD</button>
                    </div>
                </div>

                <button id="start-btn" class="neon-btn primary">
                    <span>PLAY</span>
                    <div class="btn-glow"></div>
                </button>

                <div class="menu-secondary-buttons">
                    <button id="menu-skins-btn" class="neon-btn secondary">SKINS</button>
                    <button id="menu-leaderboard-btn" class="neon-btn secondary">LEADERBOARD</button>
                </div>
            </div>

            <div class="menu-footer">
                <span class="version">v1.0</span>
                <span class="credits">SNAKE ARCADE</span>
            </div>
        </div>
    </div>



    <!-- Left Promotion Panel -->
    <div id="promo-panel" class="promo-panel hidden">
        <h2 class="promo-header">PLAY SNAKE ARCADE ONLINE</h2>
        <div class="qr-container">
            <img src="SNAKE ARCADE PC QR.png" alt="SNAKE ARCADE PC QR" class="promo-qr">
        </div>
        <p class="promo-footer">Playable only for PC</p>
    </div>

    <!-- Game HUD -->
    <div id="game-hud" class="hidden">
        <!-- Top Stats Bar -->
        <div class="hud-stats-bar">
            <div class="stat-box">
                <span class="stat-box-label">LENGTH</span>
                <span id="length-value" class="stat-box-value">3</span>
            </div>
            <div class="stat-box">
                <span class="stat-box-label">SURVIVAL</span>
                <span id="time-value" class="stat-box-value">0:00</span>
            </div>
            <div class="stat-box score-box">
                <span class="stat-box-label">SCORE</span>
                <span id="score-value" class="stat-box-value score-highlight">0</span>
            </div>
            <div class="stat-box highscore-box">
                <span class="stat-box-label">HIGHSCORE</span>
                <span id="highscore-value" class="stat-box-value highscore-highlight">0</span>
            </div>
        </div>

        <div class="hud-right">
            <div id="powerup-container" class="powerup-container"></div>
        </div>

    </div>

    <div id="hud-header-right" class="hud-header-right">
        <button id="logout-profile-btn" class="logout-profile-btn hidden" title="Log out">
            <span id="profile-initial" class="profile-initial">U</span>
            <svg class="logout-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                <path d="M16 17l5-5-5-5" />
                <path d="M21 12H9" />
            </svg>
        </button>
    </div>

    <!-- Combo HUD -->
    <div id="combo-hud" class="combo-hud hidden">
        <div id="combo-text" class="combo-text"></div>
        <div id="combo-multiplier" class="combo-multiplier"></div>
        <div class="combo-timer-container">
            <div id="combo-timer-bar" class="combo-timer-bar"></div>
        </div>
    </div>

    <!-- Premium Mobile Control Dock -->
    <div id="mobile-controls">
        <div class="mobile-dock">
            <!-- Left Utility Column -->
            <div class="dock-column dock-left">
                <button id="mobile-menu-btn" class="dock-btn" title="Menu">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 12h18M3 6h18M3 18h18" />
                    </svg>
                </button>
                <button id="sound-btn" class="dock-btn" title="Sound">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 5L6 9H2v6h4l5 4V5z" />
                        <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07" />
                    </svg>
                </button>
            </div>

            <!-- Center D-Pad -->
            <div class="dpad-container">
                <div class="dpad-base">
                    <button id="arrow-up" class="dpad-btn dpad-up">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 4l-8 8h16z" />
                        </svg>
                    </button>
                    <button id="arrow-left" class="dpad-btn dpad-left">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M4 12l8-8v16z" />
                        </svg>
                    </button>
                    <div class="dpad-center"></div>
                    <button id="arrow-right" class="dpad-btn dpad-right">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20 12l-8-8v16z" />
                        </svg>
                    </button>
                    <button id="arrow-down" class="dpad-btn dpad-down">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 20l-8-8h16z" />
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Right Utility Column -->
            <div class="dock-column dock-right">
                <button id="skin-btn" class="dock-btn" title="Skins">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
                    </svg>
                </button>
                <button id="pause-btn" class="dock-btn" title="Pause">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <rect x="6" y="4" width="4" height="16" />
                        <rect x="14" y="4" width="4" height="16" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Skin Selector Modal -->
    <div id="skin-modal" class="modal hidden">
        <div class="modal-content">
            <h3 class="modal-title">CHOOSE SKIN</h3>
            <div class="skin-options">
                <button class="skin-option selected" data-skin="blue" style="background: #4169E1;">
                    <span class="skin-icon">&#9679;</span>
                    <span class="skin-name">SOLID</span>
                </button>
                <button class="skin-option" data-skin="green" style="background: #32CD32;">
                    <span class="skin-icon">&#9675;</span>
                    <span class="skin-name">CIRCLE</span>
                </button>
                <button class="skin-option" data-skin="red" style="background: #DC143C;">
                    <span class="skin-icon">&#10084;</span>
                    <span class="skin-name">HEART</span>
                </button>
                <button class="skin-option" data-skin="gold" style="background: #FFD700;">
                    <span class="skin-icon">&#9733;</span>
                    <span class="skin-name">STAR</span>
                </button>
                <button class="skin-option" data-skin="purple" style="background: #9932CC;">
                    <span class="skin-icon">&#9671;</span>
                    <span class="skin-name">DIAMOND</span>
                </button>
                <button class="skin-option" data-skin="diamond"
                    style="background: linear-gradient(135deg, #00ffff, #ff00ff);">
                    <span class="skin-icon">&#10022;</span>
                    <span class="skin-name">PRISMA</span>
                </button>
            </div>
            <button id="close-skin-modal" class="neon-btn">CLOSE</button>
        </div>
    </div>

    <!-- Game Over Screen -->
    <div id="game-over" class="hidden">
        <div class="game-over-container">
            <h2 class="game-over-title">GAME OVER</h2>
            <div class="final-stats">
                <div class="final-stat">
                    <span class="final-label">FINAL SCORE</span>
                    <span id="final-score" class="final-value">0</span>
                </div>
                <div class="final-stat">
                    <span class="final-label">MAX LENGTH</span>
                    <span id="final-length" class="final-value">0</span>
                </div>
                <div class="final-stat">
                    <span class="final-label">SURVIVAL TIME</span>
                    <span id="final-time" class="final-value">0:00</span>
                </div>
            </div>
            <div class="game-over-buttons">
                <button id="restart-btn" class="neon-btn primary">RESTART</button>
                <button id="leaderboard-btn" class="neon-btn">LEADERBOARD</button>
                <button id="menu-btn" class="neon-btn secondary">MENU</button>
            </div>
        </div>
    </div>

    <!-- Pause Screen -->
    <div id="pause-screen" class="hidden">
        <div class="pause-container">
            <h2>PAUSED</h2>
            <p>GAME PAUSED</p>
            <button id="resume-btn" class="neon-btn primary">RESUME</button>
        </div>
    </div>

    <!-- Leaderboard Modal -->
    <div id="leaderboard-modal" class="modal hidden">
        <div class="modal-content leaderboard-modal">
            <h3 class="modal-title">LEADERBOARD</h3>
            <div class="leaderboard-tabs">
                <button class="tab-btn active" data-tab="easy">EASY</button>
                <button class="tab-btn" data-tab="normal">NORMAL</button>
                <button class="tab-btn" data-tab="hard">HARD</button>
            </div>
            <div class="leaderboard-content">
                <div id="leaderboard-easy" class="leaderboard-list active">
                    <div class="loading-text">Loading...</div>
                </div>
                <div id="leaderboard-normal" class="leaderboard-list hidden">
                    <div class="loading-text">Loading...</div>
                </div>
                <div id="leaderboard-hard" class="leaderboard-list hidden">
                    <div class="loading-text">Loading...</div>
                </div>
            </div>
            <button id="close-leaderboard" class="neon-btn">CLOSE</button>
        </div>
    </div>

    <!-- Three.js Canvas Container -->
    <div id="game-container">
        <!-- Live Leaderboard Panel -->
        <div id="live-leaderboard" class="live-leaderboard">
            <div class="lb-header">
                <h4 class="lb-title">TOP 25</h4>
                <button id="lb-minimize" class="lb-minimize">&#9660;</button>
            </div>
            <div class="lb-tabs">
                <button class="lb-tab active" data-diff="easy">EASY</button>
                <button class="lb-tab" data-diff="normal">NORMAL</button>
                <button class="lb-tab" data-diff="hard">HARD</button>
            </div>
            <div id="lb-list" class="lb-list">
                <div class="lb-loading">Loading...</div>
            </div>
        </div>
    </div>

    <!-- Import Maps for ES Modules -->
    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
    }
    </script>

    <!-- Chat Panel -->
    <div id="chat-panel" class="chat-panel hidden">
        <div class="chat-header">
            <span class="chat-head-icon" aria-hidden="true"></span>
            <span class="chat-title">CHAT</span>
            <span id="online-count" class="online-count">0 online</span>
            <button id="chat-close" class="chat-close">&times;</button>
        </div>
        <div id="chat-messages" class="chat-messages"></div>
        <div class="chat-input-wrapper">
            <input type="text" id="chat-input" class="chat-input" placeholder="Type a message..." maxlength="200">
            <button id="chat-send" class="chat-send">&#10148;</button>
        </div>
    </div>


    <!-- Main Game Script -->
    <script type="module" src="js/main.js"></script>
</body>

</html>
